<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<installation version="1.0">

    <info>
        <appname>i2p</appname>
        <appversion>0.6.1.14</appversion>
        <authors>
            <author name="I2P" email="support@i2p.net"/>
        </authors>
        <url>http://www.i2p.net</url>
    </info>

    <guiprefs width="590" height="356" resizable="yes">
        <laf name="liquid">
            <os family="unix"/>
        </laf>
    </guiprefs>

    <locale>
        <langpack iso3="eng"/>
    </locale>

    <native type="izpack" name="ShellLink.dll" />
    
    <resources>
        <res id="Installer.image" src="installer/resources/i2plogo.png" />
        <res id="InfoPanel.info" src="installer/resources/readme.license.txt"/>
        <!-- <res id="ProcessPanel.Spec.xml" src="installer/resources/ProcessPanel.Spec.xml"/> -->
	<res id="shortcutSpec.xml" src="installer/resources/shortcutSpec.xml" />
    </resources>

    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="InfoPanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="InstallPanel"/>
        <panel classname="ShortcutPanel"><os family="windows" /></panel>
        <!-- <panel classname="ProcessPanel"><os family="windows" /></panel> -->
        <panel classname="SimpleFinishPanel"/>
    </panels>

    <packs>
        <pack name="Base" required="yes">
            <description>Base installation files</description>
            <fileset dir="pkg-temp" includes="**/*" targetdir="$INSTALL_PATH"/>
            
            <!-- postinstall stuff for windows -->
            <executable targetfile="$INSTALL_PATH/lib/copy.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\lib\wrapper\win32\I2Psvc.exe" /><arg value="$INSTALL_PATH" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/copy.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\lib\wrapper\win32\wrapper.dll" /><arg value="$INSTALL_PATH\lib" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/copy.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\lib\wrapper\win32\wrapper.jar" /><arg value="$INSTALL_PATH\lib" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\i2prouter" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\install_i2p_service_unix" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\install-headless.txt" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\osid" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\postinstall.sh" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\postinstall.bat" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\uninstall_i2p_service_unix" /></args></executable>
            <executable targetfile="$INSTALL_PATH/lib/delete.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH\lib\wrapper" /></args></executable>
            <!--
            <executable targetfile="$INSTALL_PATH/lib/exec.jar" type="jar" stage="postinstall" keep="true" failure="warn"> <os family="windows" />
                <args><arg value="$INSTALL_PATH" /><arg value="$INSTALL_PATH\I2Psvc.exe" /><arg value="-c" /><arg value="$INSTALL_PATH\wrapper.config" /></args></executable>
            -->
                
            <!-- postinstall stuff for *nix -->
            <!-- stage=never means chmod a+x -->
            <executable targetfile="$INSTALL_PATH/postinstall.sh" type="bin" stage="never" keep="true" failure="warn"><os family="unix" /></executable>
            <executable targetfile="$INSTALL_PATH/postinstall.sh" type="bin" stage="postinstall" keep="true" failure="warn"><os family="unix" />
                <args><arg value="$INSTALL_PATH" /></args></executable>

        </pack>
    </packs>

</installation>
